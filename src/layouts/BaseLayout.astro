---
import { SITE } from "../data/site";

const title = `Unidad Coronaria Móvil (UCM) | Rescate Médico y Ambulancias 24/7 en Santiago y Valparaíso`;
const description = `Servicio de Unidad Coronaria Móvil (UCM) con ambulancias avanzadas y atención médica a domicilio en Santiago y Región de Valparaíso. Emergencias y urgencias médicas las 24 horas.`;
const url = `${SITE.domain}/${SITE.slug}`;
import '../styles/global.css'
---

<!doctype html>
<html lang="es" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content={Astro.generator} />

    <title>{title}</title>
    <meta name="description" content={description} />
    <meta name="keywords" content="rescate médico, ambulancia avanzada, atención médica a domicilio, urgencias médicas, ambulancia 24 horas, unidad coronaria móvil, rescate médico Santiago, rescate médico Viña del Mar, atención domiciliaria urgente, traslado de pacientes críticos" />

    <link rel="canonical" href={url} />
    <link rel="icon" type="image/png" href="/favicon.png" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:url" content={url} />
    <meta property="og:image" content={`${SITE.domain}/og-ucm.jpg`} />
    <meta property="og:locale" content="es_CL" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={`${SITE.domain}/og-ucm.jpg`} />

    <!-- LocalBusiness Schema -->
    <script type="application/ld+json">
      {JSON.stringify({
        "@context": "https://schema.org",
        "@type": "MedicalBusiness",
        "name": "Unidad Coronaria Móvil (UCM) – Rescate Médico",
        "description": description,
        "url": SITE.domain,
        "image": `${SITE.domain}/og-ucm.jpg`,
        "telephone": `+56 ${SITE.phone}`,
        "priceRange": "$$",
        "openingHours": "Mo-Su 00:00-23:59",
        "geo": {
          "@type": "GeoCoordinates",
          "latitude": -33.45694, // Santiago
          "longitude": -70.64827
        },
        "areaServed": [
          {
            "@type": "Place",
            "name": "Región Metropolitana de Santiago"
          },
          {
            "@type": "Place",
            "name": "Región de Valparaíso"
          }
        ],
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Santiago",
          "addressRegion": "Región Metropolitana",
          "addressCountry": "CL"
        },
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.9",
          "reviewCount": "120"
        },
        "sameAs": [
          "https://www.ucmchile.cl",
          "https://www.instagram.com/ucmchile",
          "https://www.facebook.com/ucmchile"
        ]
      })}
    </script>

    <!-- Google Tag (opcional, GA4) -->
    {false && (
      <>
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXX"></script>
        <script>
          {`window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-XXXXXXX');`}
        </script>
      </>
    )}
  </head>

  <body class="bg-slate-50 text-slate-800 antialiased">
    <slot />

    <!-- Eventos simples para Ads / Analytics -->
    <script>
      const send = (name:any, params = {}) => {
        console.log('event', name, params);
      };
      document.querySelectorAll('[data-cta]')
        ?.forEach(el => el.addEventListener('click', () =>
          send('cta_click', { id: el.getAttribute('data-cta') })));
    </script>
  </body>
</html>
